<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AZ Motor</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        /* General styling */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        header {
            background-color: #333;
            color: white;
            padding: 15px;
            text-align: center;
            position: relative;
            z-index: 100;
        }

        .cart-icon {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5em;
            cursor: pointer;
        }

        .cart-icon span {
            position: absolute;
            top: -10px;
            right: -10px;
            background-color: red;
            color: white;
            border-radius: 50%;
            padding: 5px 8px;
            font-size: 0.8em;
            font-weight: bold;
        }

        /* Filter section */
        .filter-container {
            padding: 10px;
            background-color: #f9f9f9;
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            align-items: center;
            width: 100%;
        }

        .filter-container select, .filter-container input {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        /* New product name filter container */
        .product-name-filter-container {
            padding: 10px;
            background-color: #f9f9f9;
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            align-items: center;
            width: 100%;
        }

        .product-name-filter-container select {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        /* Product section */
        .products-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            padding: 20px;
            justify-content: space-around;
            width: 100%;
            overflow-y: auto;
            flex-grow: 1;
        }

        .product {
            position: relative;
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 10px;
            width: 220px;
            text-align: center;
            background-color: #fff;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            flex-grow: 1;
            flex-basis: calc(33.33% - 30px);
            box-sizing: border-box;
        }

        .product img.main-product-image {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: 10px;
            cursor: pointer;
        }

        .product .tag {
            position: absolute;
            top: 10px;
            left: 10px;
            background-color: red;
            color: white;
            padding: 5px 8px;
            font-size: 0.8em;
            border-radius: 5px;
        }
        .tag {
    background-color: #f0f0f0; /* Default background for tags */
    color: #333; /* Default text color */
    padding: 5px;
    border-radius: 3px;
    font-size: 12px;
}

.tag.new-stock {
    background-color: green;
    color: white;
}


        .product-name {
            margin: 10px 0;
            font-size: 1em;
            font-weight: bold;
        }

        .price {
            font-size: 1.1em;
            font-weight: bold;
        }

        .discount-price {
            color: red;
            text-decoration: line-through;
            font-size: 0.9em;
        }

        .add-to-cart {
            background-color: #007BFF;
            color: white;
            padding: 8px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
            margin-top: 10px;
        }
        .modal-product-image {
    display: block;
    margin: 0 auto 20px; /* Center image and add spacing below */
    max-width: 100%;
    height: auto;
    border-radius: 10px;
}
/* Modal Styling */
#descriptionModal {
    display: none;
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    justify-content: center;
    align-items: center;
    overflow-y: auto; /* Enable scrolling if needed */
}

.modal-content {
    background-color: #fff;
    width: 90%;
    max-width: 400px;
    margin: auto;
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    position: relative;
}

.image-slider {
    position: relative;
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.modal-product-image {
    width: 100%; /* Make images responsive */
    height: 300px; /* Set a fixed height for consistency */
    object-fit: cover; /* Ensure images fill the dimensions without distortion */
    display: none; /* Hide all images initially */
}

.modal-product-image:first-child {
    display: block; /* Show the first image initially */
}

.slider-controls {
    margin: 10px 0;
}

button {
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    background-color: #007BFF;
    color: #fff;
    font-size: 16px;
    margin: 0 5px;
}

button:hover {
    background-color: #0056b3;
}

.description {
    margin-top: 15px;
    text-align: justify;
    font-size: 14px;
    line-height: 1.6;
    color: #333;
}

/* Mobile Responsiveness */
@media (max-width: 768px) {
    .modal-content {
        width: 95%;
        padding: 15px;
    }

    .modal-product-image {
        height: 200px; /* Reduce height for smaller screens */
    }

    button {
        font-size: 14px;
        padding: 8px 16px;
    }
}


        .add-to-cart:hover {
            background-color: #0056b3;
        }

        .out-of-stock {
            background-color: #ccc;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.9em;
        }

        .footer {
            background-color: #333;
            color: white;
            text-align: center;
            padding: 10px;
            flex-shrink: 0;
        }

        /* Cart sidebar */
        .cart-sidebar {
            position: fixed;
            top: 0;
            right: -100%;
            width: 300px;
            height: 100%;
            background-color: white;
            box-shadow: -2px 0 6px rgba(0, 0, 0, 0.2);
            transition: 0.3s ease;
            z-index: 1000;
            padding: 20px;
            overflow-y: auto;
        }

        .cart-sidebar.active {
            right: 0;
        }

        .cart-header {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
        }

        .cart-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .cart-item img {
            width: 50px;
            height: 50px;
            object-fit: cover;
            border-radius: 5px;
            margin-right: 10px;
        }

        .cart-item-details {
            flex-grow: 1;
        }

        .cart-item-name {
            font-size: 0.9em;
            font-weight: bold;
        }

        .cart-item-price {
            font-size: 0.9em;
            color: #555;
        }

        .remove-item {
            font-size: 1em;
            color: red;
            cursor: pointer;
        }

        .quantity-input {
            width: 50px;
            padding: 5px;
            text-align: center;
            border-radius: 5px;
            border: 1px solid #ddd;
            margin: 0 10px;
        }

        .total {
            font-size: 1.1em;
            font-weight: bold;
            text-align: right;
            margin-top: 20px;
        }

        .checkout-btn {
            background-color: #28a745;
            color: white;
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 20px;
            display: block;
            width: 100%;
        }

        .checkout-btn:hover {
            background-color: #218838;
        }

        /* Small Image Styling */
        .product-images {
            display: flex;
            justify-content: space-around;
            margin-top: 10px;
        }

        .product-images img {
            width: 60px;
            height: 60px;
            object-fit: cover;
            cursor: pointer;
            border-radius: 5px;
        }

        .product-images img:hover {
            border: 2px solid #007BFF;
        }
    </style>
</head>
<body>

<header>
    <h1>AZ Motor Spare</h1>
    <div class="cart-icon" onclick="toggleCart()">
        <i class="fas fa-shopping-cart"></i>
        <span id="cartCount">0</span>
    </div>
</header>

<div class="filter-container">
    <select id="filterDropdown" onchange="filterProducts()">
        <option value="all">All Products</option>
        <option value="Hot Sale">Hot Sale</option>
        <option value="New Stock">New Stock</option>
        <option value="select-all">Select All Products</option>
    </select>
    <input type="text" id="searchInput" placeholder="Search by name..." onkeyup="searchProducts()">
</div>

<div class="product-name-filter-container">
    <select id="nameFilterDropdown" onchange="filterByProductName()">
        <option value="all">All Products</option>
        <!-- Options will be populated by JavaScript -->
    </select>
</div>

<div class="products-container" id="productsContainer"></div>

<div id="descriptionModal" style="display:none;">
    <div class="modal-content">
        <span onclick="closeModal()" class="close">&times;</span>
        <h2 id="modalProductName"></h2>
        <div class="image-slider">
            <img id="modalProductImage1" class="modal-product-image" />
            <img id="modalProductImage2" class="modal-product-image" />
            <img id="modalProductImage3" class="modal-product-image" />
        </div>
        <div class="slider-controls">
            <button onclick="prevImage()">Prev</button>
            <button onclick="nextImage()">Next</button>
        </div>
        <div id="modalProductDescription" class="description"></div>
    </div>
</div>



<div class="cart-sidebar" id="cartSidebar">
    <div class="cart-header">
        <span>Your Cart</span>
        <i class="fas fa-times" onclick="toggleCart()"></i>
    </div>
    <div id="cartItems"></div>
    <div class="total" id="cartTotal">Total: 0 MVR</div>
    <button class="checkout-btn" onclick="goToCheckout()">Proceed to Checkout</button>
</div>

<div class="footer">
    <p>Contact: 9131220 | Email: ahmedvasym@gmail.com</p>
</div>

<script>
    const products = [
    { id: 1, name: 'GN125 Digital Meter', price: 1500, discountPrice: 1200, images: ['GN125DigitalMeter.jpg', '5.jpg', '2.jpg'], status: 'in-stock', tags: ['Hot Sale'], description: 'A digital meter designed for GN125 motorcycles with high precision and durability.' },
    { id: 2, name: 'Universal Alloy Bar End - Red', price: 350, discountPrice: 300, images: ['AlloyBarRed.jpg', 'Universal Enbar RED 01.jpg', 'Universal Enbar RED 02.jpg'], status: 'in-stock', tags: ['New Stock'], description: 'Stylish and durable red alloy bar end suitable for universal motorcycle handlebars.' },
    // Add description for other products similarly

        { id: 3, name: 'Universal Alloy Bar End - Black', price: 350, discountPrice: 300, images: ['AlloyBarBlack.jpg', 'Universal Enbar RED 01.jpg', 'Universal Enbar RED 02.jpg'], status: 'in-stock', tags: ['Hot Sale'] },
        { id: 4, name: 'Universal Side Mirror - Black', price: 450, discountPrice: 395, images: ['MotorcycleSideMirrorBlack.jpg', 'Universal Side Mirror Handlebar End.jpg', 'MotorcycleSideMirrorBlack.jpg'], status: 'in-stock', tags: ['Hot Sale'] },
        { id: 5, name: 'Shock Absorber', price: 500, discountPrice: 450, images: ['https://via.placeholder.com/265', 'https://via.placeholder.com/266', 'https://via.placeholder.com/267'], status: 'in-stock', tags: ['New Stock'] },
        { id: 6, name: 'Clutch Plate', price: 600, discountPrice: 500, images: ['https://via.placeholder.com/268', 'https://via.placeholder.com/269', 'https://via.placeholder.com/270'], status: 'out-of-stock', tags: [] },
        { id: 7, name: 'Car Battery', price: 700, discountPrice: 650, images: ['https://via.placeholder.com/271', 'https://via.placeholder.com/272', 'https://via.placeholder.com/273'], status: 'in-stock', tags: ['Hot Sale'] },
        { id: 8, name: 'Spark Plug', price: 100, discountPrice: 80, images: ['https://via.placeholder.com/274', 'https://via.placeholder.com/275', 'https://via.placeholder.com/276'], status: 'in-stock', tags: ['New Stock'] },
        { id: 9, name: 'Fuel Filter', price: 200, discountPrice: 180, images: ['https://via.placeholder.com/277', 'https://via.placeholder.com/278', 'https://via.placeholder.com/279'], status: 'in-stock', tags: [] },
        { id: 10, name: 'Air Filter', price: 180, discountPrice: 150, images: ['https://via.placeholder.com/280', 'https://via.placeholder.com/281', 'https://via.placeholder.com/282'], status: 'out-of-stock', tags: [] }
    ];

    const cart = [];
    const productsContainer = document.getElementById('productsContainer');
    const cartCount = document.getElementById('cartCount');
    const cartItems = document.getElementById('cartItems');
    const cartTotal = document.getElementById('cartTotal');
    const cartSidebar = document.getElementById('cartSidebar');
    const filterDropdown = document.getElementById('filterDropdown');
    const searchInput = document.getElementById('searchInput');
    const nameFilterDropdown = document.getElementById('nameFilterDropdown');

    function renderProducts(filteredProducts = products) {
    productsContainer.innerHTML = filteredProducts.map(product => `
        <div class="product">
            <img id="mainImage${product.id}" class="main-product-image" src="${product.images[0]}" alt="${product.name}">
            <div class="product-images">
                <img src="${product.images[0]}" alt="${product.name}" onclick="changeImage(${product.id}, 0)">
                <img src="${product.images[1]}" alt="${product.name}" onclick="changeImage(${product.id}, 1)">
                <img src="${product.images[2]}" alt="${product.name}" onclick="changeImage(${product.id}, 2)">
            </div>
            ${product.tags.map(tag => `<span class="tag ${tag === 'New Stock' ? 'new-stock' : ''}">${tag}</span>`).join('')}
            <div class="product-name">${product.name}</div>
            <div class="price">
                <span class="discount-price">${product.price} MVR</span>
                ${product.price - product.discountPrice > 0 ? `<span>${product.discountPrice} MVR</span>` : ''}
            </div>
            <button class="add-to-cart" onclick="addToCart(${product.id})">${product.status === 'out-of-stock' ? 'Out of Stock' : 'Add to Cart'}</button>
            <button class="view-description" onclick="showDescription(${product.id})">View Description</button>
        </div>
    `).join('');
}

    function changeImage(productId, imageIndex) {
        const product = products.find(product => product.id === productId);
        document.getElementById(`mainImage${productId}`).src = product.images[imageIndex];
    }

    function addToCart(productId) {
        const product = products.find(product => product.id === productId);
        if (product.status === 'out-of-stock') return;

        const cartProduct = cart.find(item => item.id === productId);

        if (cartProduct) {
            cartProduct.quantity++;
        } else {
            cart.push({ ...product, quantity: 1 });
        }

        updateCart();
    }

    function updateCart() {
        cartCount.textContent = cart.length;
        cartItems.innerHTML = cart.map(item => `
            <div class="cart-item">
                <img src="${item.images[0]}" alt="${item.name}">
                <div class="cart-item-details">
                    <div class="cart-item-name">${item.name}</div>
                    <div class="cart-item-price">${item.discountPrice * item.quantity} MVR</div>
                </div>
                <input type="number" class="quantity-input" value="${item.quantity}" onchange="updateItemQuantity(${item.id}, this.value)">
                <span class="remove-item" onclick="removeFromCart(${item.id})">×</span>
            </div>
        `).join('');

        const totalAmount = cart.reduce((total, item) => total + item.discountPrice * item.quantity, 0);
        cartTotal.textContent = `Total: ${totalAmount} MVR`;
    }

    function updateItemQuantity(productId, quantity) {
        const cartProduct = cart.find(item => item.id === productId);
        if (cartProduct) {
            cartProduct.quantity = parseInt(quantity);
            updateCart();
        }
    }

    function removeFromCart(productId) {
        const index = cart.findIndex(item => item.id === productId);
        if (index !== -1) {
            cart.splice(index, 1);
            updateCart();
        }
    }

    function toggleCart() {
        cartSidebar.classList.toggle('active');
    }

    function goToCheckout() {
        alert('Proceeding to Checkout...');
    }

    function searchProducts() {
        const query = searchInput.value.toLowerCase();
        const filteredProducts = products.filter(product => product.name.toLowerCase().includes(query));
        renderProducts(filteredProducts);
    }

    function filterProducts() {
        const filterValue = filterDropdown.value;
        let filteredProducts = products;

        if (filterValue === 'Hot Sale') {
            filteredProducts = products.filter(product => product.tags.includes('Hot Sale'));
        } else if (filterValue === 'New Stock') {
            filteredProducts = products.filter(product => product.tags.includes('New Stock'));
        } else if (filterValue === 'select-all') {
            filteredProducts = products;
        }

        renderProducts(filteredProducts);
    }

    function filterByProductName() {
        const selectedProductName = nameFilterDropdown.value;
        if (selectedProductName === 'all') {
            renderProducts(products);
        } else {
            const filteredProducts = products.filter(product => product.name === selectedProductName);
            renderProducts(filteredProducts);
        }
    }

    function populateNameFilterDropdown() {
        nameFilterDropdown.innerHTML = '<option value="all">All Products</option>';
        products.forEach(product => {
            const option = document.createElement('option');
            option.value = product.name;
            option.textContent = product.name;
            nameFilterDropdown.appendChild(option);
        });
    }

    // Initial Render
    renderProducts();
    populateNameFilterDropdown();
</script>
<script>
    function displayProductDetails(product) {
    let imagesHtml = product.images.map(image => {
        if (image.endsWith('.mp4')) {
            // Display video if it's an mp4 file
            return `<video width="400" controls>
                        <source src="${image}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>`;
        } else {
            // Display image if it's not a video
            return `<img src="${image}" alt="${product.name}" style="width: 100px; margin-right: 10px;">`;
        }
    }).join('');

    const productDetailsHtml = `
        <div>
            <h3>${product.name}</h3>
            <p>Price: ${product.discountPrice} MVR</p>
            <p>Status: ${product.status}</p>
            <p>Tags: ${product.tags.join(', ')}</p>
            <div>${imagesHtml}</div>
        </div>
    `;

    document.getElementById('product-details').innerHTML = productDetailsHtml;
}

</script>

<script>
    function goToCheckout() {
        // Generate a unique invoice number (timestamp-based)
        const invoiceNumber = 'INV-' + new Date().getTime();

        // Get the current date in a readable format (e.g., DD-MM-YYYY)
        const currentDate = new Date();
        const formattedDate = currentDate.toLocaleDateString('en-GB'); // This will return the date in the format: DD/MM/YYYY

        // Calculate the total price and product details for the invoice
        const invoiceTable = `
            <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
                <thead>
                    <tr style="background-color: #f4f4f4; border-bottom: 2px solid #ddd;">
                        <th style="padding: 10px; text-align: left;">Product</th>
                        <th style="padding: 10px; text-align: right;">Price (MVR)</th>
                        <th style="padding: 10px; text-align: right;">Quantity</th>
                        <th style="padding: 10px; text-align: right;">Total (MVR)</th>
                    </tr>
                </thead>
                <tbody>
                    ${cart.map(item => `
                        <tr>
                            <td style="padding: 10px;">${item.name}</td>
                            <td style="padding: 10px; text-align: right;">${item.discountPrice} MVR</td>
                            <td style="padding: 10px; text-align: right;">${item.quantity}</td>
                            <td style="padding: 10px; text-align: right;">${item.discountPrice * item.quantity} MVR</td>
                        </tr>
                    `).join('')}
                    <tr style="background-color: #f4f4f4; border-top: 2px solid #ddd;">
                        <td colspan="3" style="padding: 10px; text-align: right; font-weight: bold;">Total:</td>
                        <td style="padding: 10px; text-align: right; font-weight: bold;">${cart.reduce((total, item) => total + item.discountPrice * item.quantity, 0)} MVR</td>
                    </tr>
                </tbody>
            </table>
        `;

        // Create a new window or page
        const invoiceWindow = window.open('', '_blank', 'width=800,height=600');
        invoiceWindow.document.write(`
            <html>
                <head>
                    <img src="AZ.png" alt="Company Logo" class="logo">
                    <title>Invoice</title>
                    <style>
                        body {
                            font-family: Arial, sans-serif;
                            padding: 20px;
                            background-color: #f9f9f9;
                        }
                        h2 {
                            text-align: center;
                        }
                        table {
                            width: 100%;
                            border-collapse: collapse;
                            margin-top: 20px;
                        }
                        th, td {
                            padding: 10px;
                            text-align: right;
                        }
                        th {
                            background-color: #f4f4f4;
                            border-bottom: 2px solid #ddd;
                        }
                        td {
                            border-bottom: 1px solid #ddd;
                        }
                        .total {
                            font-weight: bold;
                            text-align: right;
                        }
                            .logo {
                display: block;
                margin: 0 auto;
                max-width: 75px; /* Adjust size of the logo */
            }

                    </style>
                </head>
                <body>
                    <h2>Invoice</h2>
                    <p style="text-align: right; font-size: 1.2em; font-weight: bold;">Invoice #: ${invoiceNumber}</p>
<p style="text-align: right; font-size: 1.1em;">Date: ${formattedDate}</p>
                    ${invoiceTable}
                    
    <strong>Bank Account Details:</strong><br>
    <span style="font-weight: normal;">Bank Name: XYZ Bank</span><br>
    <span style="font-weight: normal;">Account Number: 
        <span id="accountNumber" style="font-weight: bold; color: blue; cursor: pointer;" onclick="copyAccountNumber()">1234567890</span>
    </span><br>
    <span style="font-weight: normal;">Branch: Male, Maldives</span><br>
    <span style="font-weight: normal;">SWIFT Code: XYZABC123</span><br>
    <span style="font-weight: normal;">Account Holder: Ahmed Vaseem</span>
</p>
                </body>
                <p style="text-align: center; font-size: 1.1em;">Thank you for shopping with us!</p>
                    <p style="text-align: left; font-size: 1em; margin-top: 30px;">
            </html>
        `);
    }
</script>
<script>
    function copyAccountNumber() {
        const accountNumber = document.getElementById('accountNumber').textContent;
        
        // Create a temporary input element to copy the text
        const tempInput = document.createElement('input');
        document.body.appendChild(tempInput);
        tempInput.value = accountNumber;
        tempInput.select();
        document.execCommand('copy');
        document.body.removeChild(tempInput);

        // Optional: Alert the user that the number has been copied
        alert('Account number copied to clipboard: ' + accountNumber);
    }
</script>
</script>

 <script>
   let currentImageIndex = 0;

function showDescription(productId) {
    const product = products.find(product => product.id === productId);
    document.getElementById('modalProductName').textContent = product.name;

    // Justify and add the product description below the images
    const descriptionElement = document.getElementById('modalProductDescription');
    descriptionElement.textContent = product.description;
    descriptionElement.style.textAlign = 'justify';

    // Show images in the slider
    const images = product.images;
    document.getElementById('modalProductImage1').src = images[0];
    document.getElementById('modalProductImage2').src = images[1];
    document.getElementById('modalProductImage3').src = images[2];

    // Ensure only the first image is visible initially
    document.getElementById('modalProductImage1').style.display = 'block';
    document.getElementById('modalProductImage2').style.display = 'none';
    document.getElementById('modalProductImage3').style.display = 'none';

    // Reset current image index
    currentImageIndex = 0;

    // Display modal
    document.getElementById('descriptionModal').style.display = 'flex';
}

function closeModal() {
    document.getElementById('descriptionModal').style.display = 'none';
}

function prevImage() {
    const images = document.querySelectorAll('.modal-product-image');
    images[currentImageIndex].style.display = 'none';
    currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
    images[currentImageIndex].style.display = 'block';
}

function nextImage() {
    const images = document.querySelectorAll('.modal-product-image');
    images[currentImageIndex].style.display = 'none';
    currentImageIndex = (currentImageIndex + 1) % images.length;
    images[currentImageIndex].style.display = 'block';
}


 </script>

</body>
</html>
