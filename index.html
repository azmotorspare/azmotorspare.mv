<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AZ Motor SPare</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            overflow-x: hidden;
        }
        .side-menu {
            height: 100%;
            width: 250px;
            position: fixed;
            top: 0;
            left: -250px;
            background-color: #333;
            color: white;
            padding-top: 60px;
            transition: 0.3s;
            z-index: 1000;
            box-shadow: 2px 0px 5px rgba(0, 0, 0, 0.5);
        }

        .side-menu a {
            padding: 8px 16px;
            text-decoration: none;
            font-size: 20px;
            color: white;
            display: block;
            transition: 0.3s;
        }

        .side-menu a:hover {
            background-color: #575757;
        }

        .side-menu .close-btn {
            font-size: 36px;
            color: white;
            background: none;
            border: none;
            position: absolute;
            top: 10px;
            right: 25px;
            cursor: pointer;
        }

        /* Side Menu Icon */
        .side-menu-icon {
            font-size: 30px;
            color: white;
            background-color: #e03939; /* Dark red background */
            padding: 12px;
            border-radius: 50%;
            cursor: pointer;
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 2000;
        }

        .side-menu-icon:hover {
            background-color: #b30000; /* Lighter red on hover */
        }

        /* Sidebar Menu Button when open */
        .side-menu.open {
            left: 0;
        }
        header {
            background-color: #f8f8f8;
            color: white;
            position: sticky;
            padding: 15px;
            text-align: center;
            
            flex-direction: column;
            align-items: center;
            position: sticky;
    
        }
        .logo {
    height: 70px; /* Adjust the size of your logo */
    width: auto;
}

        .search-container {
            padding: 10px;
            background-color: #f9f9f9;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .search-container input {
            padding: 10px;
            width: 90%;
            max-width: 400px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-bottom: 10px;
        }

        .filter-container {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 10px;
        }

        .filter-button {
            padding: 8px 12px;
            border: none;
            border-radius: 5px;
            background-color: #ff4d4d;
            color: white;
            cursor: pointer;
            font-size: 0.9em;
        }

        .filter-button:hover {
            background-color: #cc0000;
        }

        .filter-container select {
            padding: 10px;
            width: 90%;
            max-width: 400px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1em;
            cursor: pointer;
        }

        .products-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            padding: 20px;
            justify-content: space-around;
        }

        .product {
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 10px;
            width: 180px;
            text-align: center;
            background-color: #fff;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            position: relative;
        }

        .product.hot-sales {
            border: 2px solid #ff4d4d;
            background-color: #fff4f4;
        }
        .product.hot-sales .hot-sale-tag {
    background-color: red;
    color: white;
    font-weight: bold;
    padding: 5px;
    border-radius: 5px;
    font-size: 1em;
    margin-top: 10px;
}

        .product.out-of-stock {
            background-color: #f2f2f2;
            color: #aaa;
        }

        .product img {
            width: 100%;
            height: 120px;
            object-fit: cover;
            border-radius: 10px;
        }

        .product-name {
            margin: 10px 0;
            font-size: 1em;
            font-weight: bold;
        }

        .price {
            font-size: 1.1em;
            font-weight: bold;
        }

        .discount-price {
            color: red;
            text-decoration: line-through;
            font-size: 0.9em;
        }

        .add-to-cart {
            background-color: #404141;
            color: white;
            padding: 8px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
            margin-top: 10px;
        }

        .add-to-cart:hover {
            background-color: #f02303;
            
        }

        .add-to-cart:disabled {
            background-color: #ddd;
            cursor: not-allowed;
        }

        .hot-sale-tag, .out-of-stock-tag {
            position: absolute;
            top: 10px;
            left: 10px;
            padding: 5px 10px;
            background-color: #ff4d4d;
            color: white;
            border-radius: 5px;
            font-size: 0.8em;
        }

        .out-of-stock-tag {
            background-color: #ccc;
        }

        .cart-icon {
    position: fixed;
    top: 15px;
    right: 15px;
    background-color: transparent; /* Transparent background */
    color: rgb(217, 137, 137); /* Black color for the icon */
    padding: 10px;
    border-radius: 50%;
    cursor: pointer;
    font-size: 1.5em;
    z-index: 20;
    border: 2px solid rgb(214, 15, 15); /* Black border */
}

.cart-icon .badge {
    position: absolute;
    top: 0;
    right: 0;
    background-color: transparent; /* Transparent background for badge */
    color: rgb(243, 238, 238); /* Black color for badge */
    border-radius: 50%;
    font-size: 0.8em;
    padding: 3px 8px;
    border: 2px solid rgb(231, 228, 228); /* Black border for badge */
}

        .cart {
            position: fixed;
            top: 0;
            right: -350px;
            width: 350px;
            height: 80%;
            background-color: #f9f9f9;
            box-shadow: -2px 0 6px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            transition: right 0.3s ease;
            z-index: 15;
        }

        .cart.open {
            right: 0;
        }

        .cart-header {
            background-color: #333;
            color: white;
            padding: 15px;
            font-size: 1.5em;
            text-align: center;
        }

        .cart-items {
            flex-grow: 1;
            padding: 10px;
            overflow-y: auto;
        }

        .cart-items ul {
            list-style: none;
            padding: 0;
        }

        .cart-items li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
        }

        .cart-items img {
            width: 50px;
            height: 50px;
            margin-right: 10px;
            border-radius: 5px;
        }

        .total-value {
            font-size: 1.2em;
            padding: 10px;
            text-align: center;
            border-top: 1px solid #ddd;
        }

        .checkout-button {
            background-color: #404141;
            color: white;
            padding: 15px;
            border: none;
            font-size: 1.2em;
            cursor: pointer;
            width: 100%;
        }

        .checkout-button:hover {
            background-color: #f02303;
        }

        .footer {
            position: fixed;
            bottom: 0;
            width: 100%;
            background-color: #333;
            color: white;
            text-align: center;
            padding: 10px 0;
            z-index: 1000;
        }

        .footer p {
            margin: 0;
        }

        /* Social Media Icons */
        .footer a {
            color: white;
            margin: 0 10px;
            font-size: 20px;
            text-decoration: none;
        }

        .footer a:hover {
            color: #b30000; /* Dark red hover effect */
        }

        /* If you want to change icon size */
        .footer i {
            font-size: 25px;
        }
    </style>
</head>
<body>
    <div class="side-menu" id="sideMenu">
        <button class="close-btn" onclick="closeMenu()">Ã—</button>
        <ul>
            <li><a href="#">Home</a></li>
            <li><a href="#">Products</a></li>
            <li><a href="#">Delivery</a></li>
            <li><a href="#">About</a></li>
        </ul>
    </div>

    <!-- Side Menu Icon -->
    <div class="side-menu-icon" onclick="openMenu()">â˜°</div>


    <header>
        <img src="AZ.png" alt="AZ Motor Spare Logo" class="logo">
        
    </header>

<div class="search-container">
    <input type="text" id="searchInput" placeholder="Search products..." oninput="filterProducts()">
    <select class="filter-bar" onchange="filterByCategory(this.value)">
        <option value="">All Items</option>
        <option value="Oil Filter">Oil Filter</option>
        <option value="Mirror Motor Bike">Mirror Motor Bike</option>
        <option value="Helmet">Helmet</option>
        <option value="Engine Oil">Engine Oil</option>
        <option value="Bike Cover">Bike Cover</option>
    </select>
</div>

<div class="products-container" id="productsContainer"></div>

<div class="cart-icon" onclick="toggleCart()">ðŸ›’ <span class="badge" id="cartBadge">0</span></div>

<div class="cart" id="cart">
    <div class="cart-header">Your Cart</div>
    <div class="cart-items">
        <ul id="cartItemsList"></ul>
    </div>
    <div class="total-value" id="totalValue">Total: MVR 0</div>
    <button class="checkout-button" onclick="generateInvoice()">Checkout</button>
</div>

<div class="footer">

    <p>Follow us:
        <a href="#"><i class="fab fa-facebook-f"></i></a>
        <a href="#"><i class="fab fa-instagram"></i></a>
        <a href="#"><i class="fab fa-tiktok"></i></a>
    </p>
</div>

<script>
    const products = [
    { id: 1, name: 'Oil Filter', price: 200, discountPrice: 150, img: 'GN125DigitalMeter.jpg', hotSale: true, status: 'in-stock' },
    { id: 2, name: 'Mirror Motor Bike', price: 300, discountPrice: 250, img: 'AlloyBarBlack.jpg', hotSale: false, status: 'out-of-stock' },
    { id: 3, name: 'Handlebar', price: 500, discountPrice: 450, img: 'AlloyBarRed.jpg', hotSale: false, status: 'in-stock' },
    { id: 4, name: 'Brake Lever', price: 150, discountPrice: 100, img: 'GN125TwinTailLight.jpg', hotSale: false, status: 'in-stock' },
    { id: 5, name: 'Helmet', price: 1200, discountPrice: 1000, img: 'HondaAirbladeMirrorBlack.jpg', hotSale: false, status: 'out-of-stock' },
    { id: 6, name: 'Engine Oil', price: 800, discountPrice: 700, img: 'HondaAirbladeMirrorCarbon.jpg', hotSale: false, status: 'in-stock' },
    { id: 7, name: 'Bike Cover', price: 600, discountPrice: 550, img: 'MotorcycleSideMirrorRed.jpg', hotSale: true, status: 'in-stock' },
    { id: 8, name: 'Chain Set', price: 400, discountPrice: 350, img: 'Signal Light.jpg', hotSale: false, status: 'out-of-stock' }
];

const cart = [];
const productsContainer = document.getElementById('productsContainer');
const cartBadge = document.getElementById('cartBadge');
const cartItemsList = document.getElementById('cartItemsList');
const totalValue = document.getElementById('totalValue');
const cartContainer = document.getElementById('cart');

function renderProducts() {
    productsContainer.innerHTML = '';
    products.forEach(product => {
        const productDiv = document.createElement('div');
        productDiv.className = 'product';
        if (product.hotSale) {
            productDiv.classList.add('hot-sales'); // Adds a class for hot sales
        }
        
        // Check if product is out of stock
        const outOfStockTag = product.status === 'out-of-stock' ? '<div class="out-of-stock-tag">Out of Stock</div>' : '';
        const disabledButton = product.status === 'out-of-stock' ? 'disabled' : '';

        productDiv.innerHTML = `
            <img src="${product.img}" alt="${product.name}">
            <div class="product-name">${product.name}</div>
            <div class="price">${product.discountPrice} MVR <span class="discount-price">${product.price} MVR</span></div>
            ${product.hotSale ? '<div class="hot-sale-tag">Hot Sale</div>' : ''}
            ${outOfStockTag} <!-- Out of Stock tag -->
            <button class="add-to-cart" onclick="addToCart(${product.id})" ${disabledButton}>Add to Cart</button>
        `;
        productsContainer.appendChild(productDiv);
    });
}

    function addToCart(productId) {
        const product = products.find(p => p.id === productId);
        const cartItem = cart.find(item => item.product.id === productId);

        if (cartItem) {
            cartItem.quantity++;
        } else {
            cart.push({ product, quantity: 1 });
        }

        updateCart();
    }

    function updateCart() {
        cartItemsList.innerHTML = '';
        let total = 0;

        cart.forEach(item => {
            const listItem = document.createElement('li');
            listItem.innerHTML = `
                <img src="${item.product.img}" alt="${item.product.name}">
                <div>${item.product.name}</div>
                <input type="number" value="${item.quantity}" min="1" onchange="changeQuantity(${item.product.id}, this.value)">
                <div>${item.product.discountPrice * item.quantity} MVR</div>
                <button style="background-color: #ff4d4d; color: white; border: none; border-radius: 5px; padding: 5px 10px; cursor: pointer;" onclick="removeFromCart(${item.product.id})">Remove</button>
            `;
            cartItemsList.appendChild(listItem);
            total += item.product.discountPrice * item.quantity;
        });

        totalValue.innerText = `Total: ${total} MVR`;
        cartBadge.innerText = cart.reduce((acc, item) => acc + item.quantity, 0);
    }

    function changeQuantity(productId, quantity) {
        const cartItem = cart.find(item => item.product.id === productId);
        if (cartItem) {
            cartItem.quantity = parseInt(quantity);
            if (cartItem.quantity <= 0) removeFromCart(productId);
        }
        updateCart();
    }

    function removeFromCart(productId) {
        const index = cart.findIndex(item => item.product.id === productId);
        if (index > -1) cart.splice(index, 1);
        updateCart();
    }

    function toggleCart() {
        cartContainer.classList.toggle('open');
    }

    function filterByCategory(category) {
        productsContainer.innerHTML = '';
        const filteredProducts = products.filter(product => product.name.includes(category));
        filteredProducts.forEach(product => {
            const productDiv = document.createElement('div');
            productDiv.className = 'product ' + (product.status === 'hot' ? 'hot-sales' : '') + (product.status === 'out-of-stock' ? 'out-of-stock' : '');
            productDiv.innerHTML = `
                <img src="${product.img}" alt="${product.name}">
                <div class="product-name">${product.name}</div>
                <div class="price">${product.discountPrice} MVR <span class="discount-price">${product.price} MVR</span></div>
                ${product.status === 'hot' ? `<img src="hot-sale-icon.png" alt="Hot Sale" style="width: 50px; height: auto; margin-top: 10px;">` : ''}
                ${product.status === 'out-of-stock' ? `<p>Out of Stock</p>` : ''}
                <button class="add-to-cart" onclick="addToCart(${product.id})" ${product.status === 'out-of-stock' ? 'disabled' : ''}>Add to Cart</button>
            `;
            productsContainer.appendChild(productDiv);
        });
    }

    function filterProducts() {
        const searchTerm = document.getElementById('searchInput').value.toLowerCase();
        const filteredProducts = products.filter(product => product.name.toLowerCase().includes(searchTerm));
        productsContainer.innerHTML = '';
        filteredProducts.forEach(product => {
            const productDiv = document.createElement('div');
            productDiv.className = 'product ' + (product.status === 'hot' ? 'hot-sales' : '') + (product.status === 'out-of-stock' ? 'out-of-stock' : '');
            productDiv.innerHTML = `
                <img src="${product.img}" alt="${product.name}">
                <div class="product-name">${product.name}</div>
                <div class="price">${product.discountPrice} MVR <span class="discount-price">${product.price} MVR</span></div>
                ${product.status === 'hot' ? `<img src="hot-sale-icon.png" alt="Hot Sale" style="width: 50px; height: auto; margin-top: 10px;">` : ''}
                ${product.status === 'out-of-stock' ? `<p>Out of Stock</p>` : ''}
                <button class="add-to-cart" onclick="addToCart(${product.id})" ${product.status === 'out-of-stock' ? 'disabled' : ''}>Add to Cart</button>
            `;
            productsContainer.appendChild(productDiv);
        });
    }

    function generateInvoice() {
    const accountName = "LAST HUNT";
    const accountNumber = "7730000345836";
    const logoURL = "AZ.png"; // Replace with your company logo URL

    // Generate the current date
    const currentDate = new Date().toLocaleDateString();

    // Generate a unique invoice number (you can enhance this logic as needed)
    const invoiceNumber = `INV-${Date.now()}`;

    const invoiceWindow = window.open('', 'Invoice', 'width=600,height=800');
    invoiceWindow.document.write(`
        <html>
        <head>
            <title>Invoice</title>
            <style>
                body { font-family: Arial, sans-serif; padding: 20px; }
                .header { text-align: center; margin-bottom: 20px; }
                .header img { max-width: 100px; margin-bottom: 10px; }
                .header h1 { font-size: 1.5em; margin: 0; }
                .details { text-align: right; margin-bottom: 20px; }
                .details div { margin-bottom: 5px; }
                table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                table, th, td { border: 1px solid #ddd; }
                th, td { padding: 10px; text-align: left; }
                .total { text-align: right; font-weight: bold; margin-top: 20px; }
                .bank-details { margin-top: 30px; }
                .bank-details div { margin-bottom: 10px; }
                .account-number { color: blue; text-decoration: underline; cursor: pointer; }
                .thank-you { text-align: center; color: blue; font-weight: bold; margin-top: 30px; font-size: 1.2em; }
            </style>
        </head>
        <body>
            <div class="header">
                <img src="${logoURL}" alt="Company Logo">
                <h1>Invoice</h1>
            </div>
            <div class="details">
                <div><strong>Date:</strong> ${currentDate}</div>
                <div><strong>Invoice Number:</strong> ${invoiceNumber}</div>
            </div>
            <table>
                <thead>
                    <tr>
                        <th>Product</th>
                        <th>Price</th>
                        <th>Quantity</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody>
                    ${cart.map(item => `
                        <tr>
                            <td>${item.product.name}</td>
                            <td>${item.product.discountPrice} MVR</td>
                            <td>${item.quantity}</td>
                            <td>${item.product.discountPrice * item.quantity} MVR</td>
                        </tr>
                    `).join('')}
                </tbody>
            </table>
            <div class="total">Grand Total: ${cart.reduce((sum, item) => sum + item.product.discountPrice * item.quantity, 0)} MVR</div>
            <div class="bank-details">
                <div><strong>Bank Details:</strong></div>
                <div>Account Name: ${accountName}</div>
                <div>
                    Account Number: 
                    <span class="account-number" onclick="navigator.clipboard.writeText('${accountNumber}')">${accountNumber}</span>
                </div>
            </div>
            <div class="thank-you">Thank You For Your Business!</div>
        </body>
        </html>
    `);
    invoiceWindow.document.close();
}


    renderProducts();
</script>
<script>
    // Open the side menu
    function openMenu() {
        document.getElementById('sideMenu').style.left = '0';
    }

    // Close the side menu
    function closeMenu() {
        document.getElementById('sideMenu').style.left = '-250px';
    }
</script>

</body>
</html>
